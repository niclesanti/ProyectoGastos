# Configuracion para los tests
# Usa H2 por defecto para desarrollo local
# En CI, las properties se sobrescriben via -D en Maven

spring.profiles.active=test

# Base de datos - H2 por defecto, PostgreSQL en CI
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:h2:mem:testdb;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE}
spring.datasource.driver-class-name=${SPRING_DATASOURCE_DRIVER:org.h2.Driver}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:sa}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}

# Dialecto - H2 por defecto
spring.jpa.database-platform=${SPRING_JPA_PLATFORM:org.hibernate.dialect.H2Dialect}

# Desactiva Flyway durante los tests
spring.flyway.enabled=false

# Activa la creacion y eliminacion del esquema por parte de Hibernate
spring.jpa.hibernate.ddl-auto=create-drop

# Mostrar SQL en consola (opcional, Ãºtil para debugging)
# spring.jpa.show-sql=true
# spring.jpa.properties.hibernate.format_sql=true

# JWT Configuration para tests
jwt.secret=test_jwt_secret_para_unit_tests_minimo_256_bits_1234567890123456789012
jwt.expiration=604800000

# Frontend URL para tests
frontend.url=http://localhost:3100